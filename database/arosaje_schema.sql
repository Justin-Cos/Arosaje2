CREATE TABLE `Users` (`user_id` INTEGER PRIMARY KEY AUTOINCREMENT, `username` VARCHAR(255) NOT NULL UNIQUE, `email` VARCHAR(255) NOT NULL UNIQUE, `password` TEXT NOT NULL, `profile_picture` TEXT NOT NULL UNIQUE, `bio` TEXT, `role` TEXT);
CREATE TABLE sqlite_sequence(name,seq);
CREATE TABLE `Addresses` (`address_id` INTEGER PRIMARY KEY AUTOINCREMENT, `owner` INTEGER NOT NULL REFERENCES `Users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE, `longitude` DECIMAL NOT NULL, `latitude` DECIMAL NOT NULL, `country` TEXT NOT NULL, `city` TEXT NOT NULL, `address` TEXT NOT NULL, `zip_code` INTEGER NOT NULL);
CREATE TABLE `PlantsTypes` (`plant_type_id` INTEGER PRIMARY KEY AUTOINCREMENT, `name` TEXT NOT NULL);
CREATE TABLE `Plants` (`plant_id` INTEGER PRIMARY KEY AUTOINCREMENT, `plant_type` INTEGER NOT NULL REFERENCES `PlantsTypes` (`plant_type_id`) ON DELETE NO ACTION ON UPDATE CASCADE, `owner` INTEGER NOT NULL REFERENCES `Users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE, `name` TEXT NOT NULL, `image` TEXT);
CREATE TABLE `CareSessions` (`session_id` INTEGER PRIMARY KEY AUTOINCREMENT, `plant` INTEGER NOT NULL REFERENCES `Plants` (`plant_id`) ON DELETE NO ACTION ON UPDATE CASCADE, `caretaker` INTEGER NOT NULL REFERENCES `Users` (`user_id`) ON DELETE NO ACTION ON UPDATE CASCADE, `location` INTEGER NOT NULL REFERENCES `Addresses` (`address_id`) ON DELETE NO ACTION ON UPDATE CASCADE, `date_start` INTEGER NOT NULL, `date_end` INTEGER NOT NULL);
CREATE TABLE `Comments` (`id_comment` INTEGER PRIMARY KEY AUTOINCREMENT, `care_session` INTEGER REFERENCES `CareSessions` (`session_id`) ON DELETE NO ACTION ON UPDATE CASCADE, `author` INTEGER REFERENCES `Users` (`user_id`) ON DELETE NO ACTION ON UPDATE CASCADE, `author_role` TEXT NOT NULL, `date` INTEGER NOT NULL, `content` TEXT, `image` TEXT);
